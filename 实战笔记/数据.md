# 数据

## 数据可视化

```python
print('(rows, columns) =', stock_price_df.shape)
stock_price_df.tail()
```

## 数据分布

```python
# 打印数值数据的分位
melbourne_data_df.describe()
```

## 数据类型

```python
# Nan to int 0
stock_price_df['ExpectedDividend'] = stock_price_df['ExpectedDividend'].fillna(0)
# bool to int
stock_price_df['SupervisionFlag'] = stock_price_df['SupervisionFlag'].map({True: 1, False: 0})
# date string to dtype datetime
stock_price_df['Date'] = pd.to_datetime(stock_price_df['Date'])
# check memory and dtype
stock_price_df.info()
```

## 缺失值

```python
stock_price_df = stock_price_df.dropna(how='any')
```

## 数据表操作

```python
# 按列融合
train = train.merge(weather_train, left_on = ["site_id", "timestamp"], right_on = ["site_id", "timestamp"])
```

### 列的保留与删除

```python
categoricals = ["site_id", "building_id", "primary_use", "hour", "weekday", "meter",  "wind_direction"]
drop_cols = ["sea_level_pressure", "wind_speed"]
train = train.drop(drop_cols, axis = 1)
numericals = ["square_feet", "year_built", "air_temperature", "cloud_coverage",
              "dew_temperature", 'precip_depth_1_hr', 'floor_count', 'beaufort_scale']
feat_cols = categoricals + numericals
```